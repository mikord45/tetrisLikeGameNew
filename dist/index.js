(()=>{"use strict";var t={429:(t,e,l)=>{l.d(e,{e:()=>i});var i=function(){function t(t,e,l,i,n,r,o){this.row=e,this.col=t,this.id=l,this.ID=i,this.div=n,this.clicked=r,this.color=o}return t.prototype.getCol=function(){return this.col},t.prototype.getRow=function(){return this.row},t.prototype.getDiv=function(){return this.div},t.prototype.changeCol=function(t){this.col=t},t.prototype.changeRow=function(t){this.row=t},t.prototype.changeField=function(t){this.id=t},t.prototype.getIdOfField=function(){return this.id},t.prototype.makeBiggerBall=function(){this.div.style.width="70px",this.div.style.height="70px"},t.prototype.makeSmallerBall=function(){this.div.style.width="50px",this.div.style.height="50px"},t.prototype.getClickedInfo=function(){return this.clicked},t.prototype.changeClicked=function(){this.clicked=!this.clicked},t}()},519:(t,e,l)=>{l.d(e,{o:()=>n});var i=l(429),n=function(){function t(){this.currentClicked=null,this.clickingAvailable=!0,this.tabOfFields=[],this.currentColors=[],this.CurrentIdOfLastBall=100,this.tabOfNextBalls=[],this.tabOfAllBalls=[],this.sthClicked=!1,this.tabOfAllVertexes=[],this.tabOfVisited=[],this.tabOfUnVisited=[],this.lastElem=null,this.endPathFinding=!1,this.tabOfCurrentIdsToDel=[],this.score=0,this.lostGame=!1,this.currentMoving=!1}return t.prototype.changeCurrentMovingStatus=function(){this.currentMoving=!this.currentMoving},t.prototype.getCurrentMovingStatus=function(){return this.currentMoving},t.prototype.getLoseStatus=function(){return this.lostGame},t.prototype.lose=function(){this.lostGame=!0},t.prototype.addScore=function(t){this.score+=t},t.prototype.getScore=function(){return this.score},t.prototype.resetTabOfCurrentIdsToDel=function(){this.tabOfCurrentIdsToDel=[]},t.prototype.getValueOfEndingPathFinding=function(){return this.endPathFinding},t.prototype.changeValueOfEndingPathFinding=function(){this.endPathFinding=!this.endPathFinding},t.prototype.getIdOfPreviousField=function(){return this.idOfPreviousField},t.prototype.setIdOfPreviousField=function(t){this.idOfPreviousField=t},t.prototype.resetCurrentClicked=function(){this.currentClicked=null},t.prototype.getCurrentClicked=function(){return this.currentClicked},t.prototype.assignCurrentClick=function(t){this.currentClicked=t},t.prototype.getSthClicked=function(){return this.sthClicked},t.prototype.changeSthClicked=function(){this.sthClicked=!this.sthClicked},t.prototype.clearTableOfNextBalls=function(){this.tabOfNextBalls=[]},t.prototype.add=function(){for(var t=["pink","red","blue","green","yellow","orange","grey"],e=[],l=0;l<3;l++){var i=t[Math.floor(7*Math.random())];e.push(i)}return e},t.prototype.lottery=function(){var t=document.getElementById("tableToShow").insertRow(0);t.setAttribute("id","next");for(var e=0;e<3;e++){var l=t.insertCell(e),n=document.createElement("div");n.style.backgroundColor=this.currentColors[e],n.setAttribute("class","ball"),n.setAttribute("id",this.CurrentIdOfLastBall.toString()),l.appendChild(n);var r=new i.e(null,null,null,this.CurrentIdOfLastBall,n,!1,this.currentColors[e]);this.tabOfNextBalls.push(r),this.CurrentIdOfLastBall+=1}},t.prototype.addToBoard=function(){for(var t=0;t<this.tabOfNextBalls.length;t++){var e=Math.floor(81*Math.random());if(81==this.tabOfAllBalls.length)break;if(0==this.tabOfFields[e].getFilled()){this.tabOfFields[e].changeFilled(),this.tabOfFields[e].cell.appendChild(this.tabOfNextBalls[t].div);var l=e%9,i=Math.floor(e/9);this.tabOfNextBalls[t].changeCol(l),this.tabOfNextBalls[t].changeRow(i),this.tabOfNextBalls[t].changeField(e),this.tabOfAllBalls.push(this.tabOfNextBalls[t])}else t-=1}this.clearTableOfNextBalls(),document.getElementById("tableToShow").innerHTML=""},t.prototype.nextMove=function(){this.addToBoard(),this.currentColors=this.add(),this.lottery()},t.prototype.findPossibleVertexes=function(t){var e=t.id,l=t.col,i={up:!0,down:!0,left:!0,right:!0,change:function(t){for(var e in this)e==t&&(this[e]=!this[e])}};return e+9>80&&i.change("down"),e-9<0&&i.change("up"),0==l&&i.change("left"),8==l&&i.change("right"),i},t.prototype.createPath=function(t,e){var l=this;this.changeCurrentMovingStatus();var i=t.filter((function(t){if(t.id==e)return t}));if(this.lastElem=i[0],null!=this.lastElem.from){for(this.tabOfFields[this.lastElem.id].changeColor();null!=this.lastElem.from;){var n=t.filter((function(t){if(t.id==l.lastElem.from)return t}));this.lastElem=n[0],this.tabOfFields[this.lastElem.id].changeColor()}setTimeout((function(){return t=l,i=void 0,r=function(){var t,l;return function(t,e){var l,i,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{l=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(i){return null!=this.getCurrentClicked()?(this.getCurrentClicked().changeClicked(),this.getCurrentClicked().makeSmallerBall(),this.getCurrentClicked().changeField(e),t=e%9,l=Math.floor(e/9),this.getCurrentClicked().changeCol(t),this.getCurrentClicked().changeRow(l),this.tabOfFields[e].cell.appendChild(this.getCurrentClicked().getDiv()),this.tabOfFields[e].changeFilled(),this.tabOfFields[this.getIdOfPreviousField()].changeFilled(),this.resetCurrentClicked(),this.changeSthClicked(),console.log(this),this.nextMove(),this.resetTabOfCurrentIdsToDel(),this.deleting(),console.log("id do usuniecia"),console.log(this.tabOfCurrentIdsToDel),this.realdeleting(),document.getElementById("points").innerText="Punkty: "+this.getScore(),console.log("======"),console.log(this.tabOfAllBalls.length),console.log("======"),81==this.tabOfAllBalls.length&&this.lose(),1==this.getLoseStatus()&&(document.getElementById("lostInfo").innerText="Koniec gry, twÃ³j wynik to: "+this.getScore()),this.changeCurrentMovingStatus()):this.changeCurrentMovingStatus(),[2]}))},new((n=void 0)||(n=Promise))((function(e,l){function o(t){try{a(r.next(t))}catch(t){l(t)}}function s(t){try{a(r.throw(t))}catch(t){l(t)}}function a(t){var l;t.done?e(t.value):(l=t.value,l instanceof n?l:new n((function(t){t(l)}))).then(o,s)}a((r=r.apply(t,i||[])).next())}));var t,i,n,r}),750)}else this.changeCurrentMovingStatus()},t.prototype.realdeleting=function(){var t=this,e=this.tabOfAllBalls.length;this.tabOfFields=this.tabOfFields.map((function(e){for(var l=!1,i=0;i<t.tabOfCurrentIdsToDel.length;i++)t.tabOfCurrentIdsToDel[i]==e.getId()&&(l=!0);return 0==l||(e.changeFilled(),console.log(e.cell),e.cell.removeChild(e.cell.children[0])),e})),this.tabOfAllBalls=this.tabOfAllBalls.filter((function(e){for(var l=!1,i=0;i<t.tabOfCurrentIdsToDel.length;i++)t.tabOfCurrentIdsToDel[i]==e.getIdOfField()&&(l=!0);if(0==l)return e}));var l=e-this.tabOfAllBalls.length;this.addScore(l),console.log(this.tabOfAllBalls,this.tabOfFields)},t.prototype.deleting=function(){for(var t=["pink","red","blue","green","yellow","orange","grey"],e=0;e<t.length;e++){for(var l=[],i=0;i<this.tabOfAllBalls.length;i++)this.tabOfAllBalls[i].color==t[e]&&l.push(this.tabOfAllBalls[i]);var n=[0,0,0,0,0,0,0,0,0];for(i=0;i<l.length;i++)n[l[i].getRow()]+=1;for(i=0;i<n.length;i++)if(n[i]>=5){for(var r=[],o=0;o<l.length;o++)l[o].getRow()==i&&r.push(l[o].getIdOfField());r=r.sort((function(t,e){return t-e}));var s=null,a=0,f=void 0,h=0,u=void 0;for(o=0;o<r.length;o++)null==s?(h+=1,u=o):r[o]==s+1?(1==h&&(u=o-1),h+=1):(a<h&&(a=h,f=u),h=1,u=null),s=r[o];if(a<h&&(a=h,f=u),console.log("rzedy"),a>=5)for(o=f;o<f+a;o++)this.tabOfCurrentIdsToDel.push(r[o])}}for(e=0;e<t.length;e++){for(l=[],i=0;i<this.tabOfAllBalls.length;i++)this.tabOfAllBalls[i].color==t[e]&&l.push(this.tabOfAllBalls[i]);var c=[0,0,0,0,0,0,0,0,0];for(i=0;i<l.length;i++)c[l[i].getCol()]+=1;for(i=0;i<c.length;i++)if(c[i]>=5){var d=[];for(o=0;o<l.length;o++)l[o].getCol()==i&&d.push(l[o].getIdOfField());for(d=d.sort((function(t,e){return t-e})),s=null,a=0,f=void 0,h=0,u=void 0,o=0;o<d.length;o++)null==s?(h+=1,u=o):d[o]==s+9?(1==h&&(u=o-1),h+=1):(a<h&&(a=h,f=u),h=1,u=null),s=d[o];if(a<h&&(a=h,f=u),console.log("kolumny"),a>=5)for(o=f;o<f+a;o++)this.tabOfCurrentIdsToDel.push(d[o])}}for(e=0;e<t.length;e++){for(l=[],i=0;i<this.tabOfAllBalls.length;i++)this.tabOfAllBalls[i].color==t[e]&&l.push(this.tabOfAllBalls[i]);var g=l.map((function(t){return t.getIdOfField()}));this.cant(g),this.cantLeft(g)}},t.prototype.cant=function(t){var e;t=t.sort((function(t,e){return t-e}));for(var l=[],i=function(i){var r=t.filter((function(e){if(e%10==t[i]%10)return e.toString()})),o=!0;if(null!=r&&null!=e)if(l.includes(r[0]))o=!1;else for(var s=0;s<r.length;s++)r[s]==e[s]&&(o=!1);if(r.length>=5&&1==o){var a=!0,f=[];for(s=0;s<r.length;s++)r[s]!=r[0]+10*s&&((0==f.length||r[s]!=r[s-1]+10)&&f.push(s),a=!1);if(1==a){var h=void 0,u=!0,c=void 0;for(s=0;s<r.length;s++)0==s&&(h=Math.floor(r[s]/9)),Math.floor(r[s]/9)!=h+s&&(u=!1,null==c&&(c=s));if(1==u)for(s=0;s<r.length;s++)n.tabOfCurrentIdsToDel.push(r[s]);else if(c>4){var d=r.slice(0,c);for(s=0;s<d.length;s++)n.tabOfCurrentIdsToDel.push(d[s])}else if(r.length-c>=5)for(d=r.slice(c),s=0;s<d.length;s++)n.tabOfCurrentIdsToDel.push(d[s])}else{var g=0;for(s=0;s<f.length;s++)n.cant(r.slice(g,f[s])),g=f[s];n.cant(r.slice(g))}}for(e=r,s=0;s<r.length;s++)l.push(r[s])},n=this,r=0;r<t.length;r++)i(r)},t.prototype.cantLeft=function(t){var e;t=t.sort((function(t,e){return t-e}));for(var l=[],i=function(i){var r=t.filter((function(e){if(e%8==t[i]%8)return e.toString()})),o=!0;if(null!=r&&null!=e)if(l.includes(r[0]))o=!1;else for(var s=0;s<r.length;s++)r[s]==e[s]&&(o=!1);if(r.length>=5&&1==o){var a=!0,f=[];for(s=0;s<r.length;s++)r[s]!=r[0]+8*s&&((0==f.length||r[s]!=r[s-1]+8)&&f.push(s),a=!1);if(1==a){var h=void 0,u=!0,c=void 0;for(s=0;s<r.length;s++)0==s&&(h=Math.floor(r[s]/9)),Math.floor(r[s]/9)!=h+s&&(u=!1,null==c&&(c=s));if(1==u)for(s=0;s<r.length;s++)n.tabOfCurrentIdsToDel.push(r[s]);else if(c>4){var d=r.slice(0,c);for(s=0;s<d.length;s++)n.tabOfCurrentIdsToDel.push(d[s]);if(r.length-c>=5)for(d=r.slice(c),s=0;s<d.length;s++)n.tabOfCurrentIdsToDel.push(d[s])}else if(r.length-c>=5)for(d=r.slice(c),s=0;s<d.length;s++)n.tabOfCurrentIdsToDel.push(d[s])}else{var g=0;for(s=0;s<f.length;s++)n.cantLeft(r.slice(g,f[s])),g=f[s];n.cantLeft(r.slice(g))}}for(e=r,s=0;s<r.length;s++)l.push(r[s])},n=this,r=0;r<t.length;r++)i(r)},t}()},720:(t,e,l)=>{l.d(e,{g:()=>i});var i=function(){function t(t,e,l,i,n){this.row=e,this.col=t,this.id=l,this.filled=i,this.cell=n}return t.prototype.changeColor=function(){var t=this;this.cell.style.backgroundColor="#de10da",setTimeout((function(){t.cell.style.backgroundColor="white"}),750)},t.prototype.getId=function(){return this.id},t.prototype.getCol=function(){return this.col},t.prototype.getRow=function(){return this.row},t.prototype.getFilled=function(){return this.filled},t.prototype.changeFilled=function(){this.filled=!this.filled},t}()}},e={};function l(i){if(e[i])return e[i].exports;var n=e[i]={exports:{}};return t[i](n,n.exports,l),n.exports}l.d=(t,e)=>{for(var i in e)l.o(e,i)&&!l.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{for(var t=l(519),e=l(720),i=new t.o,n=document.getElementById("emptyTable"),r=0;r<9;r++)for(var o=n.insertRow(r),s=function(t){var l=o.insertCell(t),n=9*r+t,s=n.toString();l.setAttribute("id",s);var a=new e.g(t,r,n,!1,l);i.tabOfFields.push(a),l.addEventListener("click",(function(){if(0==i.getLoseStatus()&&0==i.getCurrentMovingStatus()){var t=this.id;if(1==i.tabOfFields[n].getFilled())i.tabOfAllBalls.map((function(e){e.getIdOfField().toString()==t&&(0==e.getClickedInfo()?0==i.getSthClicked()?(e.changeClicked(),e.makeBiggerBall(),i.changeSthClicked(),i.assignCurrentClick(e),i.setIdOfPreviousField(parseInt(t))):(e.changeClicked(),e.makeBiggerBall(),i.getCurrentClicked().changeClicked(),i.getCurrentClicked().makeSmallerBall(),i.assignCurrentClick(e),i.setIdOfPreviousField(parseInt(t))):(i.resetCurrentClicked(),i.changeSthClicked(),e.changeClicked(),e.makeSmallerBall()))}));else if(1==i.getSthClicked()){i.tabOfUnVisited=[],i.tabOfAllVertexes=[],i.tabOfVisited=[];for(var e=0;e<i.tabOfFields.length;e++){var l={row:i.tabOfFields[e].getRow(),col:i.tabOfFields[e].getCol(),id:i.tabOfFields[e].getId(),filled:i.tabOfFields[e].getFilled(),len:null,from:null};i.tabOfAllVertexes.push(l),i.tabOfUnVisited.push(l)}i.tabOfUnVisited=i.tabOfUnVisited.filter((function(t){if(0==t.filled)return t}));for(var r=function(){var t;if(0==i.tabOfVisited.length)t=i.tabOfAllVertexes[i.getCurrentClicked().getIdOfField()],i.tabOfAllVertexes[i.getCurrentClicked().getIdOfField()].len=0,i.tabOfUnVisited.push(t);else{for(var e,l=0;l<i.tabOfUnVisited.length;l++)0==l?e=null==i.tabOfUnVisited[l].len?1e4:i.tabOfUnVisited[l].len:i.tabOfUnVisited[l].len<e&&null!=i.tabOfUnVisited[l].len&&(e=i.tabOfUnVisited[l].len);var n=i.tabOfUnVisited.filter((function(t){if(t.len==e)return t}));if(null==(t=n[0]))return"break"}var r=i.findPossibleVertexes(t),o=[];if(1==r.up){var s=i.tabOfAllVertexes.filter((function(e){if(e.id==t.id-9)return e}))[0];o.push(s)}1==r.down&&(s=i.tabOfAllVertexes.filter((function(e){if(e.id==t.id+9)return e}))[0],o.push(s)),1==r.left&&(s=i.tabOfAllVertexes.filter((function(e){if(e.id==t.id-1)return e}))[0],o.push(s)),1==r.right&&(s=i.tabOfAllVertexes.filter((function(e){if(e.id==t.id+1)return e}))[0],o.push(s)),o=o.filter((function(t){if(0==t.filled)return t}));for(var a=0;a<o.length;a++)(null==o[a].len||o[a].len>t.len+1)&&(o[a].len=t.len+1,o[a].from=t.id,i.tabOfAllVertexes[o[a].id]=o[a]);var f=null,h=i.tabOfUnVisited.filter((function(e,l){if(e.id==t.id)return null==f&&(f=l),e}))[0];null!=h&&(i.tabOfUnVisited.splice(f,1),i.tabOfVisited.push(h))};i.tabOfUnVisited.length>0&&"break"!==r(););i.createPath(i.tabOfAllVertexes,n)}}}))},a=0;a<9;a++)s(a);i.currentColors=i.add(),i.lottery(),i.nextMove()})()})();